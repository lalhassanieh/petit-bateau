{%- liquid
  assign section_st = section.settings
  assign enable_login_popup = section_st.enable_login_popup
  assign routes_login = routes.account_login_url
  assign login_one_time = true
  if routes_login contains 'login'
    assign login_one_time = false
  endif
-%}
{% # theme-check-disable UnclosedHTMLElement %}
{% if type != 'header_mega' %}
  <div class="header_account hidden block-1025">
    {% if customer %}
      <div
        aria-label="header icon account"
        class="btn-reset pointer header-icon header-color w-44 h-44 inline-flex content-center header__icon-account header-color {% if customer.email == blank %}action-login{% endif %}"
      >
    {%- else -%}
      {%- if enable_login_popup and login_one_time == false -%}
        <button
          aria-label="account"
          class="btn-reset pointer action-login-popup header-icon transition header-color w-44 h-44 inline-flex content-center header__icon-account header-color"
        >
      {%- else -%}
        <a
          href="{{ routes.account_login_url }}"
          aria-label="account"
          class="btn-reset pointer header-icon transition header-color w-44 h-44 inline-flex content-center header__icon-account header-color lh-1"
        >
      {%- endif -%}
    {%- endif -%}
    {%- if customer -%}
      <a class="header-color lh-1" href="{{ routes.account_url }}" aria-label="{{ 'customer.account.title' | t }}">
    {%- endif -%}
    <svg width="16" height="16" fill="none">
      <use href="#icon-account" />
    </svg>
    {% render 'login-popup' %}
    {%- if customer -%}
      </a>
    {%- endif -%}
    {%- if customer -%}
      </div>
    {%- else -%}
      {%- if enable_login_popup and login_one_time == false -%}</button>{%- else -%}</a>{%- endif -%}
    {%- endif -%}
  </div>
{% else %}
  <div class="header_account header-account__mega hidden block-1025">
    {% if customer %}
      <div
        aria-label="header icon account"
        class="btn-reset pointer header-icon header-color flex content-center header__icon-account header-color {% if customer.email == blank %}action-login{% endif %}"
      >
    {%- else -%}
      {%- if enable_login_popup and login_one_time == false -%}
        <button
          aria-label="account"
          class="btn-reset pointer action-login-popup header-icon transition header-color flex content-center header__icon-account header-color"
        >
          {% render 'login-popup' %}
      {%- else -%}
        <a
          href="{{ routes.account_login_url }}"
          aria-label="account"
          class="btn-reset pointer header-icon transition header-color flex content-center header__icon-account header-color lh-1"
        >
      {%- endif -%}
    {%- endif -%}
    {%- if customer -%}
      <a class="header-color lh-1" href="{{ routes.account_url }}" aria-label="{{ 'customer.account.title' | t }}">
    {%- endif -%}
    {% comment %}
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
        <path d="M22.8743 21.8337C21.7111 19.8659 20.0513 18.2344 18.0593 17.1009C16.0673 15.9674 13.8123 15.3711 11.5174 15.3711C9.22257 15.3711 6.96751 15.9674 4.97554 17.1009C2.98358 18.2344 1.3238 19.8659 0.160556 21.8337C0.0181459 22.089 -0.0181103 22.3895 0.059556 22.671C0.0961871 22.8144 0.163198 22.9483 0.256099 23.0638C0.349 23.1794 0.465646 23.2738 0.598222 23.3408C0.769252 23.4372 0.962746 23.4873 1.15933 23.4859C1.35428 23.4941 1.5477 23.4484 1.71808 23.3538C1.88846 23.2592 2.02913 23.1195 2.12444 22.9501C3.08736 21.3202 4.46164 19.9688 6.11116 19.0299C7.76068 18.091 9.62817 17.597 11.5287 17.597C13.4291 17.597 15.2966 18.091 16.9461 19.0299C18.5957 19.9688 19.9699 21.3202 20.9329 22.9501C21.0828 23.2035 21.3271 23.3879 21.6129 23.4632C21.8987 23.5384 22.2028 23.4985 22.4591 23.352C22.5867 23.2843 22.6986 23.1907 22.7875 23.0772C22.8765 22.9637 22.9404 22.833 22.9753 22.6933C23.0168 22.5506 23.0293 22.401 23.0119 22.2534C22.9946 22.1058 22.9478 21.9631 22.8743 21.8337Z" fill="currentColor"/>
        <path d="M11.5211 14.3C13.3294 14.3003 15.0655 13.5842 16.3559 12.3057C17.6464 11.0272 18.3879 9.28854 18.4211 7.46384C18.4211 5.61691 17.6941 3.84563 16.4001 2.53966C15.1061 1.23369 13.3511 0.5 11.5211 0.5C9.6911 0.5 7.93606 1.23369 6.64206 2.53966C5.34806 3.84563 4.62109 5.61691 4.62109 7.46384C4.65425 9.28854 5.39582 11.0272 6.68624 12.3057C7.97667 13.5842 9.71281 14.3003 11.5211 14.3ZM6.92109 7.46384C6.92109 6.23255 7.40574 5.0517 8.2684 4.18105C9.13107 3.3104 10.3011 2.82128 11.5211 2.82128C12.7411 2.82128 13.9111 3.3104 14.7738 4.18105C15.6365 5.0517 16.1211 6.23255 16.1211 7.46384C16.1211 8.69512 15.6365 9.87597 14.7738 10.7466C13.9111 11.6173 12.7411 12.1064 11.5211 12.1064C10.3011 12.1064 9.13107 11.6173 8.2684 10.7466C7.40574 9.87597 6.92109 8.69512 6.92109 7.46384Z" fill="currentColor"/>
      </svg>
    {% endcomment %}
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="20" viewBox="0 0 18 20" fill="none">
      <path fill-rule="evenodd" clip-rule="evenodd" d="M9.00003 1.59999C8.48788 1.59999 7.98074 1.70087 7.50757 1.89686C7.0344 2.09286 6.60447 2.38013 6.24232 2.74228C5.88017 3.10443 5.5929 3.53436 5.3969 4.00753C5.20091 4.4807 5.10003 4.98784 5.10003 5.49999C5.10003 6.01215 5.20091 6.51929 5.3969 6.99246C5.5929 7.46563 5.88017 7.89556 6.24232 8.25771C6.60447 8.61986 7.0344 8.90713 7.50757 9.10312C7.98074 9.29912 8.48788 9.39999 9.00003 9.39999C10.0344 9.39999 11.0264 8.9891 11.7578 8.25771C12.4891 7.52632 12.9 6.53434 12.9 5.49999C12.9 4.46565 12.4891 3.47367 11.7578 2.74228C11.0264 2.01089 10.0344 1.59999 9.00003 1.59999ZM3.90003 5.49999C3.90003 4.83025 4.03195 4.16707 4.28825 3.54831C4.54455 2.92955 4.92021 2.36733 5.39379 1.89375C5.86737 1.42017 6.42959 1.04451 7.04835 0.788208C7.66711 0.531909 8.33029 0.399994 9.00003 0.399994C9.66978 0.399994 10.333 0.531909 10.9517 0.788208C11.5705 1.04451 12.1327 1.42017 12.6063 1.89375C13.0799 2.36733 13.4555 2.92955 13.7118 3.54831C13.9681 4.16707 14.1 4.83025 14.1 5.49999C14.1 6.8526 13.5627 8.1498 12.6063 9.10624C11.6498 10.0627 10.3526 10.6 9.00003 10.6C7.64743 10.6 6.35022 10.0627 5.39379 9.10624C4.43735 8.1498 3.90003 6.8526 3.90003 5.49999ZM9.00003 13.6C6.02903 13.6 3.38303 15.034 1.69503 17.268C1.55411 17.4433 1.42387 17.627 1.30503 17.818C1.24703 17.923 1.24203 17.968 1.24303 18.008C1.24303 18.03 1.25403 18.093 1.29403 18.173C1.33403 18.253 1.37803 18.301 1.39603 18.315C1.41303 18.328 1.45503 18.358 1.61703 18.378C1.79603 18.399 2.03603 18.4 2.42703 18.4H15.573C15.964 18.4 16.204 18.399 16.383 18.378C16.545 18.358 16.587 18.328 16.604 18.315C16.647 18.2748 16.6816 18.2265 16.706 18.173C16.7337 18.1215 16.751 18.0651 16.757 18.007C16.757 17.968 16.753 17.923 16.694 17.817C16.5755 17.626 16.4456 17.4423 16.305 17.267C14.617 15.035 11.971 13.6 9.00003 13.6ZM0.737034 16.544C2.64003 14.027 5.63103 12.4 9.00003 12.4C12.369 12.4 15.361 14.027 17.263 16.544L17.283 16.57C17.459 16.803 17.625 17.024 17.741 17.231C17.874 17.468 17.963 17.723 17.957 18.029C17.953 18.273 17.877 18.512 17.78 18.709C17.682 18.904 17.537 19.109 17.345 19.259C17.091 19.459 16.808 19.535 16.525 19.569C16.267 19.6 15.954 19.6 15.605 19.6H2.39503C2.04603 19.6 1.73303 19.6 1.47503 19.57C1.19203 19.535 0.909034 19.458 0.655034 19.259C0.471665 19.1096 0.323195 18.9219 0.220034 18.709C0.112087 18.498 0.051671 18.2659 0.0430339 18.029C0.0404434 17.7482 0.115172 17.4721 0.259034 17.231C0.375034 17.024 0.541034 16.803 0.718034 16.571L0.737034 16.544Z" fill="#002E5E"/>
    </svg>
    {% render 'login-popup' %}
    {% comment %}
      {% if type == 'header_mega' %}
        <span class="text-icon">
          <a class="no-underline" href="{{ routes.account_logout_url }}" aria-label="{{ 'customer.account.title' | t }}">
            <span class="text-icons-top">
              {%- liquid
                if customer
                  echo 'customer.log_out' | t
                else
                  echo 'customer.log_in' | t
                endif
              -%}
            </span>
          </a>
          <a class="no-underline" href="{{ routes.account_url }}" aria-label="{{ 'customer.account.title' | t }}">
            <span>
              {{ 'customer.account.title' | t }}
            </span>
          </a>
        </span>
      {% endif %}
    {% endcomment %}
    {%- if customer -%}
      </a>
    {%- endif -%}
    {%- if customer -%}
      </div>
    {%- else -%}
      {%- if enable_login_popup and login_one_time == false -%}</button>{%- else -%}</a>{%- endif -%}
    {%- endif -%}
  </div>
{% endif %}
{% # theme-check-disable UnclosedHTMLElement %}
